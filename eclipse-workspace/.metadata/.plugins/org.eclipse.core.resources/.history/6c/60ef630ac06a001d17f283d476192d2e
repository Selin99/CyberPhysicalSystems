/*
 * generated by Xtext 2.28.0
 */
package game.of.life.tasks.validation;

import game.of.life.tasks.tASKDSL.TASKDSLPackage
import org.eclipse.xtext.validation.Check;
import game.of.life.tasks.tASKDSL.GridSize;
import java.util.List
import game.of.life.tasks.tASKDSL.Game

/**
 * This class contains custom validation rules. 
 *
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#validation
 */
class TASKDSLValidator extends AbstractTASKDSLValidator {
	
	@Check 
	def checkStartGridCoordinates(Game g) //Check if start coordinates are within the grid
	{ 
	    var gs = g.gridSize;
	    var sg =g.startGrid ;
	    for(var i=0; i<sg.size;i++)
	    {
		    var height = gs.get(0).h; //grid size is set in the begining of game and it stays fixed for that game
		    var length = gs.get(0).l;
		    
		    if((sg.get(i).getXC())>=height || (sg.get(i).getXC())<0)
		    	{
		    		error("X axis out of grid",null);	
		    	}
		    if((sg.get(i).getYC())>=length || (sg.get(i).getYC())<0)
		    	{
		    		error("Y axis out of grid",null);
		    	}
	    
	    } 
	}
		@Check 
	def checkCellCoordinates(Game g) //Check if Cell Coordinates within the grid
	{ 
		var gs = g.gridSize;
	    var c =g.allCells ;
	    
	    for(var i=0; i<gs.size;i++)
	    {
		    var height = gs.get(i).h;
		    var length = gs.get(i).l;
		    
		    for(var j=0; j<c.size;j++)
	    	{
	    	if((c.get(j).getX())>height || ((c.get(j).getX())<0))
	    	{
	    		error("X axis out of grid",null);
	    	}
	    	if(( c.get(j).getY())>length || ((c.get(j).getY())<0))
	    	{
	    		error("Y axis out of grid",null);
	    	}
	    	}
	    } 

	}

}

