/*
 * generated by Xtext 2.28.0
 */
package game.of.life.tasks.validation;

import org.eclipse.xtext.validation.Check;

import game.of.life.tasks.tASKDSL.GridSize;
import game.of.life.tasks.tASKDSL.StartGrid;

/**
 * This class contains custom validation rules. 
 *
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#validation
 */
public class TASKDSLValidator extends AbstractTASKDSLValidator {
	
//	public static val INVALID_NAME = 'invalidName'
//
//	@Check
//	def checkGreetingStartsWithCapital(Greeting greeting) {
//		if (!Character.isUpperCase(greeting.name.charAt(0))) {
//			warning('Name should start with a capital', 
//					TASKDSLPackage.Literals.GREETING__NAME,
//					INVALID_NAME)
//		}
//	}
	
	@Check 
	  void checkStartGridCoordinates(GridSize gs, StartGrid sg) { 
	    GridSize height = gs.getH();
	    GridSize length = gs.getL();
	    
	    for(int i=0; i<sg.size();i++)
	    {
	    	if(sg.get(i).getXC()>height || sg.get(i).getXC()<0)
	    	{
	    		error("X axis out of grid",null);
	    	}
	    	if(sg.get(i).getYC()>length || sg.get(i).getYC()<0)
	    	{
	    		error("Y axis out of grid",null);
	    	}
	    	
	    }
	    if (duration != null){ 
	      switch(duration.getUnit()) { 
	        case MINUTE: 
	            if (duration.getDl() > 1000) 
	              warning("Rewrite to other unit",null); 
	            break; 
	          case HOUR: 
	            break; 
	          case DAY: 
	            if (duration.getDl() > 150) 
	              info("Maybe rewrite to weeks",null); 
	            break; 
	          case WEEK: 
	            if (duration.getDl() > 52) 
	              error("Deadline longer than 1 year not 
	  allowed",null); 
	            break; 
	        } 
	      } 
	    } 
	   
	    @Check 
	    void checkDoublePersons(Planning planning){ 
	      EList<Person> plist = planning.getPersons(); // lists start at 
	  position 0 
	      for (int i = 0; i < plist.size() ; i++){ 
	        for (int j = i+1; j < plist.size() ; j++){ 
	          if 
	  (plist.get(i).getName().equals(plist.get(j).getName())) { 
	            error("Double name",null); 
	          } 
	        } 
	      } 
	    } 
	  } 
	      }
}
